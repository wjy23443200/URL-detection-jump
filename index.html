<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>正在检测线路...</title>
    <style>
      body { font-family: sans-serif; text-align: center; padding: 3em; }
      .tip { font-size: 1.2em; color: #444; margin-top: 1.5em; }
    </style>
  </head>
  <body>
    <h2>正在检测可用线路...</h2>
    <p class="tip" id="tip">请稍候，正在为您选择最快线路</p>

    <script>
      const ua = navigator.userAgent;
      if (/MicroMessenger|QQ\/|baiduboxapp/i.test(ua)) {
        document.body.innerHTML = "<h3 style='text-align:center;margin-top:3em'>请使用系统浏览器打开本页面，微信、QQ、百度内不支持跳转。</h3>";
      } else {
        const urls = [
          "https://renyimen.top",
          "https://fenghuolun.top",
          "https://gravit.top"
        ];

        let jumped = false;
        urls.forEach(url => {
          const img = new Image();
          img.src = url + "/favicon.ico?t=" + Date.now();
          img.onload = () => {
            if (!jumped) {
              jumped = true;
              window.location.href = url;
            }
          };
        });

        setTimeout(() => {
          if (!jumped) {
            document.getElementById("tip").innerText = "暂无可用线路，请稍后再试或联系客服。";
          }
        }, 5000);
      }
    </script>
  </body>
</html>
